<!doctype html>
<!--[if lt IE 7]><html class="no-js ie6" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 7]><html class="no-js ie7" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 8]><html class="no-js ie8" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 9]><html class="no-js ie9" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 10]><html class="no-js ie10" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if (gt IE 10)|!(IE)]><!-->
<html class="no-js " lang="en" dir="ltr" data-date-format="non_us">
 <!--<![endif]-->
 <!-- Mirrored from jxbrowser.support.teamdev.com/support/solutions/articles/9000012884-saving-web-page-to-png-image by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 30 Sep 2020 07:30:52 GMT -->
 <!-- Added by HTTrack -->
 <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <!-- /Added by HTTrack -->  
  <!-- Title for the page --> 
  <title> Saving Web Page to PNG Image : JxBrowser </title> 
  <!-- Meta information --> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <meta name="description" content=""> 
  <meta name="author" content=""> 
  <meta property="og:title" content="Saving Web Page to PNG Image"> 
  <meta property="og:url" content="9000012884-saving-web-page-to-png-image.html"> 
  <meta property="og:description" content=" Note:&nbsp;Advice in this article will only work for JxBrowser 6. See the corresponding article for JxBrowser 7 here.      To take an image of the currently loaded web page you need to perform the steps below:   Create Browser instance.  Set the requi..."> 
  <meta property="og:image" content="../../../../s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/9020676264/logo/uRxGW2Mvdl6yDSKmsuiZTaG73TkXrsHs9w8657.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAS6FNSMY2WD6T3JNC%2F20200914%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20200914T051635Z&amp;X-Amz-Expires=604800&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=c116fc89026f5523d9ec125ce9dafc0a2e800b2dc097c81bf8121cfb61394164"> 
  <meta property="og:site_name" content="TeamDev"> 
  <meta property="og:type" content="article"> 
  <meta name="twitter:title" content="Saving Web Page to PNG Image"> 
  <meta name="twitter:url" content="9000012884-saving-web-page-to-png-image.html"> 
  <meta name="twitter:description" content=" Note:&nbsp;Advice in this article will only work for JxBrowser 6. See the corresponding article for JxBrowser 7 here.      To take an image of the currently loaded web page you need to perform the steps below:   Create Browser instance.  Set the requi..."> 
  <meta name="twitter:image" content="../../../../s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/9020676264/logo/uRxGW2Mvdl6yDSKmsuiZTaG73TkXrsHs9w8657.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAS6FNSMY2WD6T3JNC%2F20200914%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20200914T051635Z&amp;X-Amz-Expires=604800&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=c116fc89026f5523d9ec125ce9dafc0a2e800b2dc097c81bf8121cfb61394164"> 
  <meta name="twitter:card" content="summary"> 
  <link rel="canonical" href="9000012884-saving-web-page-to-png-image.html"> 
  <!-- Responsive setting --> 
  <link rel="apple-touch-icon" href="../../../assets/touch/touch-icon-iphone.png"> 
  <link rel="apple-touch-icon" sizes="72x72" href="../../../assets/touch/touch-icon-ipad.png"> 
  <link rel="apple-touch-icon" sizes="114x114" href="../../../assets/touch/touch-icon-iphone-retina.png"> 
  <link rel="apple-touch-icon" sizes="144x144" href="../../../assets/touch/touch-icon-ipad-retina.png"> 
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0"> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic&amp;subset=latin,cyrillic-ext" rel="stylesheet" type="text/css"> 
  <!-- Adding meta tag for CSRF token --> 
  <meta content="authenticity_token" name="csrf-param"> 
  <meta content="L6gf3O8tCjV5lTRxzJAswvpM8NdnQaA6G8ZulmK0p04=" name="csrf-token"> 
  <!-- End meta tag for CSRF token --> 
  <!-- Fav icon for portal --> 
  <link rel="shortcut icon" href="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/9020676283/fav_icon/hMZTQDr-Nvqs3SXSy3Qy_FxEdWez5OZhbA.ico"> 
  <!-- Base stylesheet --> 
  <link href="https://assets8.freshdesk.com/assets/cdn/portal_print-a389f1ef3e87261e7264e3e70416d704.css" media="print" rel="stylesheet" type="text/css"> 
  <link href="../../../../assets2.freshdesk.com/assets/cdn/portal_utils-8853c5de5c2f34ad29f67725522bd688.css" media="screen" rel="stylesheet" type="text/css"> 
  <!-- Theme stylesheet --> 
  <link href="../../theme8d13.css?v=1591291426" media="screen" rel="stylesheet" type="text/css"> 
  <!-- Google font url if present --> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300italic,700" rel="stylesheet" type="text/css"> 
  <!-- Including default portal based script framework at the top --> 
  <script src="https://assets9.freshdesk.com/assets/cdn/portal_head-43241a4601c08e2bd085bd76ec5fbfca.js" type="text/javascript"></script> 
  <!-- Including syntexhighlighter for portal --> 
  <script src="https://assets6.freshdesk.com/assets/cdn/prism-3f28a5413839eaa941ab06e1ae6a969c.js" type="text/javascript"></script> 
  <!-- Portal specific integrations (Google analytics) --> 
  <!-- google analytices starts here --> 
  <script type="text/javascript">
	var _gaq = _gaq || [];
	    _gaq.push(['_setAccount', 'UA-41668241-9']);
	    _gaq.push(['_addDevId', '00P19']);
	    _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script> 
  <!-- google analytices ends here --> 
  <!-- Access portal settings information via javascript --> 
  <script type="text/javascript">     var portal = {"language":"en","name":"JxBrowser","contact_info":"","current_page_name":"article_view","current_tab":"solutions","vault_service":{"url":"https://vault-service.freshworks.com/data","max_try":2,"product_name":"fd"},"current_account_id":313551,"preferences":{"bg_color":"#ffffff","header_color":"#ffffff","help_center_color":"#ffffff","footer_color":"#777777","tab_color":"#ffffff","tab_hover_color":"#4c4b4b","btn_background":"#ffffff","btn_primary_background":"#6c6a6a","baseFont":"Helvetica Neue","textColor":"#333333","headingsFont":"Open Sans Condensed","headingsColor":"#333333","linkColor":"#049cdb","linkColorHover":"#036690","inputFocusRingColor":"#049cdb","nonResponsive":"false"},"image_placeholders":{"spacer":"https://assets5.freshdesk.com/assets/misc/spacer.gif","profile_thumb":"https://assets6.freshdesk.com/assets/misc/profile_blank_thumb-e1a34033b3073cb80f5becc0b644bfca.jpg","profile_medium":"https://assets8.freshdesk.com/assets/misc/profile_blank_medium-4ae2280a460eae3c870acb7a7545b7e5.jpg"},"falcon_portal_theme":false,"current_object_id":9000012884};     var attachment_size = 20;  </script> 
 </head> 
 <body> 
  <div class="page clearfix"> 
   <script>
  jQuery(document).ready(function(){
    
    jQuery(".user-ava").click(function(){
      jQuery(this).toggleClass("profile_active");
    
    });    
    
    jQuery("#notice:contains('You must be logged out to access this page')").css('display', 'none');
    jQuery("#notice:contains('No user was found with that email address')").css('top', '-165px');
   
    
    if(window.location.href == 'https://teamdev.freshdesk.com/support/home' || window.location.href == '../../home.html'){
    	jQuery('.banner').addClass('home-page-banner');			
        jQuery('#notice').addClass('home-notice');
    } 
    
    if(window.location.href == 'http://teamdev.freshdesk.com/support/home' || window.location.href == '../../home.html'){
    	jQuery('.banner').addClass('home-page-banner');			
        jQuery('#notice').addClass('home-notice');
    }  
    
    
    
  });
</script> 
   <header class="banner"> 
    <div class="banner-wrapper center-holder"> 
     <div class="banner-title"> 
      <a href="https://teamdev.com/jxbrowser" class="portal-logo"><span class="portal-img"><i></i> <img src="../../../../s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/9020676264/logo/uRxGW2Mvdl6yDSKmsuiZTaG73TkXrsHs9w.png" alt="Logo" onerror="default_image_error(this)" data-type="logo"> </span></a> 
      <h1 class="ellipsis heading"><a class="target-blank" href="https://www.teamdev.com/jxbrowser" target="_blank">JxBrowser</a></h1> 
     </div> 
     <!-- <div class="welcome">Welcome <b></b> </div>  <b><a href="/support/login"><b>Login</b></a></b>--> 
     <a data-toggle-dom="#header-tabs" href="#" data-animated="true" class="mobile-icon-nav-menu show-in-mobile"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a> 
     <nav class="banner-nav mobileLogin"> 
      <ul class="nav-link" id="header-tabs"> 
       <li><a href="../../home.html">Home</a></li> 
       <li> <a href="../9000050171.html">Getting Started</a></li> 
       <li><a href="../../solutions.html">Documentation</a></li> 
       <li><a class="target-blank" href="http://stackoverflow.com/questions/tagged/jxbrowser">Questions</a></li> 
       <li><a href="../../discussions/forums/9000110576.html">Release Notes</a></li> 
       <li class="btn-item"><a class="btn btn-log" href="https://jxbrowser.support.teamdev.com/support/login">Sign in</a></li> 
      </ul> 
     </nav> 
    </div> 
    <!-- Search and page links for the page --> 
    <section class="help-center rounded-6"> 
     <div class="hc-search"> 
      <div class="hc-search-c"> 
       <!-- <h2 class="heading hide-in-mobile">How can we help you today?</h2> --> 
       <h2 class="heading hide-in-mobile"> Welcome to JxBrowser Help Center</h2> 
       <form class="hc-search-form print--remove" autocomplete="off" action="https://jxbrowser.support.teamdev.com/support/search/solutions" id="hc-search-form" data-csrf-ignore="true"> 
        <div class="hc-search-input"> 
         <label for="support-search-input" class="hide">Enter your search term here...</label> 
         <input placeholder="Enter your search term here..." type="text" name="term" class="special" value="" rel="page-search" data-max-matches="10" id="support-search-input"> 
        </div> 
        <div class="hc-search-button"> 
         <button class="btn btn-primary" type="submit" autocomplete="off"> <i class="mobile-icon-search hide-tablet"></i> <span class="hide-in-mobile"> Search </span> </button> 
        </div> 
       </form> 
      </div> 
     </div> 
     <!--<div class="hc-nav ">				
 <nav>  <div class="hide-in-mobile"><a href=/support/login>Login</a> to submit a new ticket</div>   <div>
              <a href="/support/tickets" class="mobile-icon-nav-status check-status ellipsis" title="Check ticket status">
                <span>Check ticket status</span>
              </a>
            </div>  </nav>
</div>--> 
    </section> 
   </header> 
   <!--   
<nav class="page-tabs" >

<a data-toggle-dom="#header-tabs" href="#" data-animated="true" class="mobile-icon-nav-menu show-in-mobile"></a>
<div class="nav-link" id="header-tabs">


<a href="/support/home" class="">
Home
</a>



<a href="/support/solutions" class="">
Solutions
</a>



<a href="/support/discussions" class="">
Forums
</a>

 
</div>

</nav>

--> 
   <script>
  jQuery(document).ready(function() {
    
    //Please change the text "Please enter your search team" to change the text.
    jQuery('[rel="page-search"]').attr('placeholder','Search articles, guides, tutorials...');
    
    var tab_urls = [];
    jQuery('#header-tabs li a').each(function() { 
      tab_urls.push(jQuery(this).attr('href')); 
    });
    
    if (jQuery.inArray(window.location.pathname,tab_urls) != -1) {
      console.log('true');
      jQuery('#header-tabs li a[href="'+tab_urls[jQuery.inArray(window.location.pathname,tab_urls)]+'"]').addClass('active'); 
    }
    else {
      console.log('false');
      jQuery('#header-tabs li a[href="'+tab_urls[jQuery.inArray(window.location.pathname,tab_urls)]+'"]').removeClass('active'); 
    }
  
  });
  
</script> 
   <!-- Notification Messages --> 
   <div class="alert alert-with-close notice" id="noticeajax" style="display:none;"></div> 
   <div class="c-wrapper clearfix"> 
    <script>
  jQuery(document).ready(function(){
  
  jQuery("p:contains('Modified on:')").text(jQuery("p:contains('Modified on:')").text().substr(0,jQuery("p:contains('Modified on:')").text().indexOf("at")));
  
  
  });
</script> 
    <section class="content-holder equal-height center-holder"> 
     <section class="main content rounded-6 min-height-on-desktop clearfix" id="article-show-9000012884"> 
      <div class="breadcrumb"> 
       <a href="../../solutions.html"> Knowledge base </a> 
       <a href="../9000049010.html">Documentation</a> 
       <a href="../folders/9000074195.html">Saving Web Page</a> 
      </div> 
      <b class="page-stamp page-stamp-article"> <b class="icon-page-article"></b> </b> 
      <h2 class="heading">Saving Web Page to PNG Image <a href="javascript:print();" class="icon-print solution-print-icon" title="Print this Article"></a> <span style="color:green;">(将网页保存为PNG图像)</span></h2> 
      <p>Modified on: Tue, 3 Sep, 2019 at 3:54 PM</p> 
      <hr> 
      <article class="article-body" id="article-body"> 
       <p style="background-color: rgb(255, 240, 193); border-left: 6px solid rgb(255, 152, 0); padding: 12px;"><strong>Note:&nbsp;</strong>Advice in this article will only work for JxBrowser 6. See the corresponding article for JxBrowser 7 <a href="https://jxbrowser-support.teamdev.com/docs/guides/content.html#taking-bitmap-of-a-web-page">here</a>.<span style="color:green;">(注意：本文中的建议仅适用于JxBrowser6，JxBrowser7相应文章请点击这里。)</span></p>
       <p><br></p>
       <div dir="ltr">
        <p>To take an image of the currently loaded web page you need to perform the steps below:<span style="color:green;">(要得到当前加载的网页的图像，您需要执行以下步骤：)</span></p>
        <ol>
         <li>Create <span style="font-family: 'Courier New';">Browser</span> instance.<span style="color:green;">(创建Browser实例。)</span></li>
         <li>Set the required <span style="font-family: 'Courier New';">Browser</span> view size.<span style="color:green;">(设置所需的浏览器视图大小。)</span></li>
         <li><span>Load the required web page or HTML and wait until it is loaded completely.</span><span style="color:green;">(加载所需的网页或HTML，然后等待其完全加载。)</span></li>
         <li>Get <span style="font-family: 'Courier New';">java.awt.Image</span> of the loaded web page.<span style="color:green;">(获取所加载网页的java.awt.Image。)</span></li>
        </ol>
        <p>The example below demonstrates how to perform all these steps:<span style="color:green;">(下面的示例演示如何执行这些步骤：)</span></p>
        <h2><span>Swing</span><span style="color:green;">(Swing)</span></h2>
        <pre class="code-large" data-code-brush="java" rel="highlighter">import com.teamdev.jxbrowser.chromium.Browser;
import com.teamdev.jxbrowser.chromium.BrowserPreferences;
import com.teamdev.jxbrowser.chromium.BrowserType;
import com.teamdev.jxbrowser.chromium.Callback;
import com.teamdev.jxbrowser.chromium.swing.BrowserView;
import com.teamdev.jxbrowser.chromium.swing.internal.LightWeightWidget;
import com.teamdev.jxbrowser.chromium.swing.internal.events.LightWeightWidgetListener;

import javax.imageio.ImageIO;
import java.awt.*;
import java.awt.image.RenderedImage;
import java.io.File;
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.TimeUnit;

/**
&nbsp;* The sample demonstrates how to get screen shot of the web page
&nbsp;* and save it as PNG image file.
&nbsp;*/
public class HTMLToImageSample {
&nbsp; &nbsp; public static void main(String[] args) throws Exception {
&nbsp; &nbsp; &nbsp; &nbsp; final int viewWidth = 1024;
&nbsp; &nbsp; &nbsp; &nbsp; final int viewHeight = 20000;
&nbsp; &nbsp; &nbsp; &nbsp; // Disables GPU process and changes maximum texture size
&nbsp; &nbsp; &nbsp; &nbsp; // value from default 16384 to viewHeight. The maximum texture size value
&nbsp; &nbsp; &nbsp; &nbsp; // indicates the maximum height of the canvas where Chromium
&nbsp; &nbsp; &nbsp; &nbsp; // renders web page's content. If the web page's height
&nbsp; &nbsp; &nbsp; &nbsp; // exceeds the maximum texture size, the part of outsize the
&nbsp; &nbsp; &nbsp; &nbsp; // texture size will not be drawn and will be filled with
&nbsp; &nbsp; &nbsp; &nbsp; // black color.
&nbsp; &nbsp; &nbsp; &nbsp; String[] switches = {
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "--disable-gpu",
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "--max-texture-size=" + viewHeight
&nbsp; &nbsp; &nbsp; &nbsp; };
&nbsp; &nbsp; &nbsp; &nbsp; BrowserPreferences.setChromiumSwitches(switches);

&nbsp; &nbsp; &nbsp; &nbsp; // #1 Create LIGHTWEIGHT Browser instance.
&nbsp; &nbsp; &nbsp; &nbsp; Browser browser = new Browser(BrowserType.LIGHTWEIGHT);
&nbsp; &nbsp; &nbsp; &nbsp; BrowserView view = new BrowserView(browser);

&nbsp; &nbsp; &nbsp; &nbsp; // #2 Register LightWeightWidgetListener.onRepaint() to get
&nbsp; &nbsp; &nbsp; &nbsp; // notifications about paint events. We expect that web page
&nbsp; &nbsp; &nbsp; &nbsp; // will be completely rendered twice:
&nbsp; &nbsp; &nbsp; &nbsp; // 1. When its size is updated to viewWidth x viewHeight.
&nbsp; &nbsp; &nbsp; &nbsp; // 2. When HTML content is loaded and displayed.
&nbsp; &nbsp; &nbsp; &nbsp; final CountDownLatch latch = new CountDownLatch(2);
&nbsp; &nbsp; &nbsp; &nbsp; LightWeightWidget widget = (LightWeightWidget) view.getComponent(0);
&nbsp; &nbsp; &nbsp; &nbsp; widget.addLightWeightWidgetListener(new LightWeightWidgetListener() {
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @Override
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public void onRepaint(Rectangle updatedRect, Dimension viewSize) {
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Make sure that all view content has been repainted.
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (viewSize.equals(updatedRect.getSize())) {
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; latch.countDown();
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
&nbsp; &nbsp; &nbsp; &nbsp; });

&nbsp; &nbsp; &nbsp; &nbsp; // #3 Set the required view size.
&nbsp; &nbsp; &nbsp; &nbsp; browser.setSize(viewWidth, viewHeight);

&nbsp; &nbsp; &nbsp; &nbsp; // #4 Load web page and wait until web page is loaded completely.
&nbsp; &nbsp; &nbsp; &nbsp; Browser.invokeAndWaitFinishLoadingMainFrame(browser, new Callback&lt;Browser&gt;() {
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @Override
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public void invoke(Browser browser) {
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; browser.loadURL("https://teamdev.com/jxbrowser");
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
&nbsp; &nbsp; &nbsp; &nbsp; });

&nbsp; &nbsp; &nbsp; &nbsp; // #5 Wait until Chromium renders web page content.
&nbsp; &nbsp; &nbsp; &nbsp; latch.await(45, TimeUnit.SECONDS);

&nbsp; &nbsp; &nbsp; &nbsp; // #6 Save java.awt.Image of the loaded web page into a PNG file.
&nbsp; &nbsp; &nbsp; &nbsp; ImageIO.write((RenderedImage) widget.getImage(), "PNG",
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new File("teamdev.com.png"));

&nbsp; &nbsp; &nbsp; &nbsp; // #7 Dispose Browser instance.
&nbsp; &nbsp; &nbsp; &nbsp; browser.dispose();
&nbsp; &nbsp; }
}&nbsp;</pre>
        <div>
         <h2><span>JavaFX</span><span style="color:green;">(JavaFX)</span></h2>
         <p><br></p>
         <pre class="code-large" data-code-brush="java" rel="highlighter">import com.teamdev.jxbrowser.chromium.Browser;
import com.teamdev.jxbrowser.chromium.BrowserPreferences;
import com.teamdev.jxbrowser.chromium.BrowserType;
import com.teamdev.jxbrowser.chromium.Callback;
import com.teamdev.jxbrowser.chromium.internal.LightWeightWidgetListener;
import com.teamdev.jxbrowser.chromium.javafx.BrowserView;
import com.teamdev.jxbrowser.chromium.javafx.internal.LightWeightWidget;
import java.awt.Dimension;
import java.awt.Rectangle;
import java.io.File;
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.TimeUnit;
import javafx.application.Application;
import javafx.application.Platform;
import javafx.embed.swing.SwingFXUtils;
import javafx.scene.image.Image;
import javafx.stage.Stage;
import javax.imageio.ImageIO;

/**
 * The sample demonstrates how to get screen shot of the web page
 * and save it as PNG image file.
 */
public class JavaFXHTMLToImageSample extends Application {
    public static void main(String[] args) {
        launch(args);
    }

    @Override
    public void start(final Stage primaryStage) throws Exception {
        final int viewWidth = 1024;
        final int viewHeight = 15000;
        // Disables GPU process and changes maximum texture size
        // value from default 16384 to viewHeight. The maximum texture size value
        // indicates the maximum height of the canvas where Chromium
        // renders web page's content. If the web page's height
        // exceeds the maximum texture size, the part of outsize the
        // texture size will not be drawn and will be filled with
        // black color.
        String[] switches = {
                "--disable-gpu",
                "--disable-gpu-compositing",
                "--enable-begin-frame-scheduling",
                "--max-texture-size=" + viewHeight
        };
        BrowserPreferences.setChromiumSwitches(switches);

        // #1 Create LIGHTWEIGHT Browser instance
        final Browser browser = new Browser(BrowserType.LIGHTWEIGHT);
        final BrowserView view = new BrowserView(browser);

        // #2 Get javafx.scene.image.Image of the loaded web page
        final LightWeightWidget widget = (LightWeightWidget) view.getChildren().get(0);

        // #3 Register LightWeightWidgetListener.onRepaint() to get
        // notifications about paint events. We expect that web page
        // will be completely rendered twice:
        // 1. When its size is updated to viewWidth x viewHeight.
        // 2. When HTML content is loaded and displayed.
        final CountDownLatch latch = new CountDownLatch(2);
        widget.addLightWeightWidgetListener(new LightWeightWidgetListener() {
            @Override
            public void onRepaint(Rectangle updatedRect, Dimension viewSize) {
                if (viewSize.equals(updatedRect.getSize())) {
                    latch.countDown();
                }
            }
        });

        // #4 Set the required view size
        browser.setSize(viewWidth, viewHeight);

        // #5 Load web page and wait until web page is loaded completely
        Browser.invokeAndWaitFinishLoadingMainFrame(browser, new Callback&lt;Browser&gt;() {
            @Override
            public void invoke(Browser browser) {
                browser.loadURL("https://teamdev.com/jxbrowser");
            }
        });

        // #6 Wait until Chromium renders web page content.
        latch.await(45, TimeUnit.SECONDS);

        final Image image = widget.getImage();

        // #7 Save the image into a PNG file
        ImageIO.write(SwingFXUtils.fromFXImage(image, null), "PNG", new File("teamdev.com.png"));

        // #8 Dispose Browser instance.
        browser.dispose();

        // #9 Close the application.
        Platform.exit();
    }
}</pre>
         <p><br></p>
         <p><strong>Note:</strong> functionality that allows capturing image of loaded web page is available for Browser instance in LIGHTWEIGHT rendering mode only. When HEAVYWEIGHT rendering mode is used, web page's content is rendered via GPU directly onto a native window/surface embedded and displayed in Java Swing/JavaFX container.<span style="color:green;">(注意：捕获加载的网页图像的功能仅适用于LIGHTWEIGHT(轻量级)渲染模式下的Browser实例。使用HEAVYWEIGHT(重量级)渲染模式时，网页的内容通过GPU直接渲染嵌入并显示在Java Swing / JavaFX容器中的本机窗口/界面上。)</span></p>
         <p><br></p>
         <h2>Calculating Page Size<span style="color:green;">(计算页面大小)</span></h2>
         <p>If you need to take screenshot of the whole web page including scrollable hidden parts and you don’t know dimension of the web page, then you need to calculate it using the following approach:<span>&nbsp;</span><span>&nbsp;</span><span style="color:green;">(如果您需要截取整个网页（包括可滚动的隐藏部分）的屏幕截图，而又不知道网页的尺寸，则需要使用以下方法进行计算：)</span></p>
         <pre class="code-large" data-code-brush="java" rel="highlighter">JSValue documentHeight = browser.executeJavaScriptAndReturnValue(
&nbsp; &nbsp; &nbsp; &nbsp; "Math.max(document.body.scrollHeight, " +
&nbsp; &nbsp; &nbsp; &nbsp; "document.documentElement.scrollHeight, document.body.offsetHeight, " +
&nbsp; &nbsp; &nbsp; &nbsp; "document.documentElement.offsetHeight, document.body.clientHeight, " +
&nbsp; &nbsp; &nbsp; &nbsp; "document.documentElement.clientHeight);");
JSValue documentWidth = browser.executeJavaScriptAndReturnValue(
&nbsp; &nbsp; &nbsp; &nbsp; "Math.max(document.body.scrollWidth, " +
&nbsp; &nbsp; &nbsp; &nbsp; "document.documentElement.scrollWidth, document.body.offsetWidth, " +
&nbsp; &nbsp; &nbsp; &nbsp; "document.documentElement.offsetWidth, document.body.clientWidth, " +
&nbsp; &nbsp; &nbsp; &nbsp; "document.documentElement.clientWidth);");

final int scrollBarSize = 25;
int viewWidth = documentWidth.asNumber().getInteger() + scrollBarSize;
int viewHeight = documentHeight.asNumber().getInteger() + scrollBarSize;</pre>
         <div>
          <p><span>&nbsp;</span><span>&nbsp;</span><span>In this code we use JavaScript and DOM API to get dimension of the loaded document.</span><span style="color:green;">(在此代码中，我们使用JavaScript和DOM API来获取已加载文档的尺寸。)</span></p>
         </div>
        </div>
       </div> 
      </article> 
      <hr> 
     </section> 
     <section class="sidebar content clearfix rounded-6"> 
      <div id="related_articles">
       <div class="cs-g-c">
        <section class="article-list">
         <h3 class="list-lead">Related Articles</h3>
        </section>
       </div>
      </div> 
     </section> 
    </section> 
    <div style="color:red;text-align:center;width:100%;">
      原文地址:
     <a href="https://jxbrowser.support.teamdev.com/support/solutions" target="_blank">https://jxbrowser.support.teamdev.com/support/solutions</a>，本文档由玄翼猫进行整理，翻译(机器翻译)，翻译校对。
     <br> 我的开发经验：
     <a href="http://www.xuanyimao.com/softarticle/jxbrowser.html" target="_blank">http://www.xuanyimao.com/softarticle/jxbrowser.html</a> 
    </div>
   </div> 
  </div> 
  <!--<footer class="footer rounded-6">
	<nav class="footer-links">
		
				
					<a href="/support/home" class="">Home</a>
				
					<a href="/support/solutions" class="active">Solutions</a>
				
					<a href="/support/discussions" class="">Forums</a>
				
		
		
		
	</nav>
</footer>
--> 
  <div class="copyright">
   © 2007 –&nbsp;2020 
   <a href="http://www.teamdev.com/" target="_blank">TeamDev.</a> All rights reserved. 
  </div> 
  <script src="https://assets9.freshdesk.com/assets/cdn/portal_bottom-79245b6b714e53fa8ed9a0db1a95e76f.js" type="text/javascript"></script> 
  <script src="https://assets9.freshdesk.com/assets/cdn/redactor-7e802312e7db6fddcb8a4f8423a2cb6c.js" type="text/javascript"></script> 
  <script src="https://assets7.freshdesk.com/assets/cdn/freshfone_portal-38510e9dcd7cf1e2bce25e2201e23cef.js" type="text/javascript"></script> 
  <script src="https://assets9.freshdesk.com/assets/cdn/lang/en-d58d68912364ea68a01bde932774f9dd.js" type="text/javascript"></script> 
  <!-- for i18n-js translations --> 
  <script src="https://assets3.freshdesk.com/assets/cdn/i18n/portal/en-e757d3b3f03360ef6d1c7cf4264cdbb4.js" type="text/javascript"></script> 
  <!-- Including default portal based script at the bottom --> 
  <script type="text/javascript">
//<![CDATA[
	
	jQuery(document).ready(function() {
					
		// Setting the locale for moment js
		moment.lang('en');

		var validation_meassages = {"required":"This field is required.","remote":"Please fix this field.","email":"Please enter a valid email address.","url":"Please enter a valid URL.","date":"Please enter a valid date.","dateISO":"Please enter a valid date ( ISO ).","number":"Please enter a valid number.","digits":"Please enter only digits.","creditcard":"Please enter a valid credit card number.","equalTo":"Please enter the same value again.","two_decimal_place_warning":"Value cannot have more than 2 decimal digits","select_atleast_one":"Select at least one option.","select2_minimum_limit":"Please type %{char_count} or more letters","select2_maximum_limit":"You can only select %{limit} %{container}","maxlength":"Please enter no more than {0} characters.","minlength":"Please enter at least {0} characters.","rangelength":"Please enter a value between {0} and {1} characters long.","range":"Please enter a value between {0} and {1}.","max":"Please enter a value less than or equal to {0}.","min":"Please enter a value greater than or equal to {0}.","select2_maximum_limit_jq":"You can only select {0} {1}","facebook_limit_exceed":"Your Facebook reply was over 8000 characters. You'll have to be more clever.","messenger_limit_exceeded":"Oops! You have exceeded Messenger Platform's character limit. Please modify your response.","not_equal_to":"This element should not be equal to","email_address_invalid":"One or more email addresses are invalid.","twitter_limit_exceed":"Oops! You have exceeded Twitter's character limit. You'll have to modify your response.","password_does_not_match":"The passwords don't match. Please try again.","valid_hours":"Please enter a valid hours.","reply_limit_exceed":"Your reply was over 2000 characters. You'll have to be more clever.","url_format":"Invalid URL format","url_without_slash":"Please enter a valid URL without '/'","link_back_url":"Please enter a valid linkback URL","requester_validation":"Please enter a valid requester details or <a href=\"#\" id=\"add_requester_btn_proxy\">add new requester.</a>","agent_validation":"Please enter valid agent details","email_or_phone":"Please enter a Email or Phone Number","upload_mb_limit":"Upload exceeds the available 15MB limit","invalid_image":"Invalid image format","atleast_one_role":"At least one role is required for the agent","invalid_time":"Invalid time.","remote_fail":"Remote validation failed","trim_spaces":"Auto trim of leading & trailing whitespace","hex_color_invalid":"Please enter a valid hex color value.","name_duplication":"The name already exists.","invalid_value":"Invalid value","invalid_regex":"Invalid Regular Expression","same_folder":"Cannot move to the same folder.","maxlength_255":"Please enter less than 255 characters","decimal_digit_valid":"Value cannot have more than 2 decimal digits","atleast_one_field":"Please fill at least {0} of these fields.","atleast_one_portal":"Select atleast one portal.","custom_header":"Please type custom header in the format -  header : value","same_password":"Should be same as Password","select2_no_match":"No matching %{container} found","integration_no_match":"no matching data...","time":"Please enter a valid time","valid_contact":"Please add a valid contact","field_invalid":"This field is invalid"}	

		jQuery.extend(jQuery.validator.messages, validation_meassages );


		jQuery(".call_duration").each(function () {
			var format,time;
			if (jQuery(this).data("time") === undefined) { return; }
			if(jQuery(this).hasClass('freshcaller')){ return; }
			time = jQuery(this).data("time");
			if (time>=3600) {
			 format = "hh:mm:ss";
			} else {
				format = "mm:ss";
			}
			jQuery(this).html(time.toTime(format));
		});
	});

	// Shortcuts variables
	var Shortcuts = {"global":{"help":"?","save":"mod+return","cancel":"esc","search":"/","status_dialog":"mod+alt+return","save_cuctomization":"mod+shift+s"},"app_nav":{"dashboard":"g d","tickets":"g t","social":"g e","solutions":"g s","forums":"g f","customers":"g c","reports":"g r","admin":"g a","ticket_new":"g n","compose_email":"g m"},"pagination":{"previous":"alt+left","next":"alt+right","alt_previous":"j","alt_next":"k"},"ticket_list":{"ticket_show":"return","select":"x","select_all":"shift+x","search_view":"v","show_description":"space","unwatch":"w","delete":"#","pickup":"@","spam":"!","close":"~","silent_close":"alt+shift+`","undo":"z","reply":"r","forward":"f","add_note":"n","scenario":"s"},"ticket_detail":{"toggle_watcher":"w","reply":"r","forward":"f","add_note":"n","close":"~","silent_close":"alt+shift+`","add_time":"m","spam":"!","delete":"#","show_activities_toggle":"}","properties":"p","expand":"]","undo":"z","select_watcher":"shift+w","go_to_next":["j","down"],"go_to_previous":["k","up"],"scenario":"s","pickup":"@","collaboration":"d"},"social_stream":{"search":"s","go_to_next":["j","down"],"go_to_previous":["k","up"],"open_stream":["space","return"],"close":"esc","reply":"r","retweet":"shift+r"},"portal_customizations":{"preview":"mod+shift+p"},"discussions":{"toggle_following":"w","add_follower":"shift+w","reply_topic":"r"}};
	
	// Date formats
	var DATE_FORMATS = {"non_us":{"moment_date_with_week":"ddd, D MMM, YYYY","datepicker":"d M, yy","datepicker_escaped":"d M yy","datepicker_full_date":"D, d M, yy","mediumDate":"d MMM, yyyy"},"us":{"moment_date_with_week":"ddd, MMM D, YYYY","datepicker":"M d, yy","datepicker_escaped":"M d yy","datepicker_full_date":"D, M d, yy","mediumDate":"MMM d, yyyy"}};

	var lang = { 
		loadingText: "Please Wait...",
		viewAllTickets: "View all tickets"
	};


//]]>
</script> 
  <img src="https://jxbrowser.support.teamdev.com/support/solutions/articles/9000012884-saving-web-page-to-png-image/hit" alt=" " aria-hidden="true"> 
  <script type="text/javascript">
     		I18n.defaultLocale = "en";
     		I18n.locale = "en";
		</script>  
  <!-- Mirrored from jxbrowser.support.teamdev.com/support/solutions/articles/9000012884-saving-web-page-to-png-image by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 30 Sep 2020 07:30:52 GMT --> 
 </body>
</html>